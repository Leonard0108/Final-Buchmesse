import java.util.UUID;

@Controller
public class CatalogController {

    private final EventCatalog catalog;

    public CatalogController(EventCatalog catalog) {
        this.catalog = catalog;
    }

    @GetMapping("/event/{type}")
    public String eventByType(@PathVariable String type, Model model) {
        model.addAttribute("catalog", catalog.findByType(type));
        model.addAttribute("title", "Available " + type + "s");
        return "catalog";
    }

    @GetMapping("/event/detail/{id}")
    public String eventDetail(@PathVariable UUID id, Model model) {
        Event event = catalog.findById(id).orElseThrow();
        model.addAttribute("event", event);
        return "detail";
    }
}